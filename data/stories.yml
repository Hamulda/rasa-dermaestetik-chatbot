version: "3.1"

stories:

- story: Formular - uzivatel se pta obecne, pak poskytuje pozadovane sloty jeden po druhem
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_product_recommendation
  - action: product_recommendation_form    # Pravidlo aktivuje formular, FormPolicy se zeptá na skin_type
  - active_loop: product_recommendation_form
  - intent: inform
    entities:
    - skin_type: "suchá"
  - action: product_recommendation_form    # Formular zpracuje skin_type, FormPolicy se zepta na skin_concern
  - active_loop: product_recommendation_form
  - intent: inform
    entities:
    - skin_concern: "vrásky"
  - action: product_recommendation_form    # Formular zpracuje skin_concern, FormPolicy deaktivuje loop
  - active_loop: null
  - action: utter_submit_form
  - action: action_recommend_product

- story: Formular - uzivatel poskytne jeden pozadovany slot s ask_product_recommendation, pak druhy
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_product_recommendation
    entities:
    - skin_type: "mastná"
  - action: product_recommendation_form
  - active_loop: product_recommendation_form
  - slot_was_set:
    - skin_type: "mastná"
  - intent: inform
    entities:
    - skin_concern: "póry"
  - action: product_recommendation_form
  - active_loop: null
  - slot_was_set:
    - skin_concern: "póry"
  - action: utter_submit_form
  - action: action_recommend_product

- story: Formular - uzivatel poskytne vsechny pozadovane sloty (a jeden volitelny) s ask_product_recommendation
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_product_recommendation
    entities:
    - skin_type: "citlivá"
    - skin_concern: "zarudnutí"
    - product_category: "krém"
  - action: product_recommendation_form
  - active_loop: product_recommendation_form
  - slot_was_set:
    - skin_type: "citlivá"
  - slot_was_set:
    - skin_concern: "zarudnutí"
  - slot_was_set:
    - product_category: "krém"
  - action: product_recommendation_form
  - active_loop: null
  - action: utter_submit_form
  - action: action_recommend_product

- story: Zastaveni formulare v prubehu
  steps:
  - intent: ask_product_recommendation
  - action: product_recommendation_form
  - active_loop: product_recommendation_form
  - intent: stop_form
  - action: action_deactivate_loop
  - active_loop: null
  - action: utter_form_cancelled

# --- Tvoje existujici jednoduche pribehy (beze zmeny) ---
- story: happy path (basic greet and mood)
  steps:
  - intent: greet
  - action: utter_greet
  - intent: mood_great
  - action: utter_happy

- story: sad path 1 (basic greet and unhappy mood)
  steps:
  - intent: greet
  - action: utter_greet
  - intent: mood_unhappy
  - action: utter_cheer_up
  - action: utter_did_that_help
  - intent: affirm
  - action: utter_happy

- story: sad path 2 (greet, unhappy, deny help)
  steps:
  - intent: greet
  - action: utter_greet
  - intent: mood_unhappy
  - action: utter_cheer_up
  - action: utter_did_that_help
  - intent: deny
  - action: utter_goodbye

- story: bot challenge
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

# --- Pribehy pro nektere FAQ (beze zmeny, pouze příklady) ---
- story: user asks about payment options
  steps:
  - intent: faq_payment_options
  - action: utter_faq_payment_options

- story: user asks about vegan products
  steps:
  - intent: faq_vegan_products
  - action: utter_faq_vegan_products

- story: user asks about eshop payment options detail
  steps:
  - intent: faq_eshop_payment_options_detail
  - action: utter_faq_eshop_payment_options_detail

- story: user asks about eshop shipping cost
  steps:
  - intent: faq_eshop_shipping_cost
  - action: utter_faq_eshop_shipping_cost

- story: user asks about eshop returns procedure
  steps:
  - intent: faq_eshop_returns_procedure
  - action: utter_faq_eshop_returns_procedure

- story: user asks about parabens
  steps:
  - intent: faq_parabens
  - action: utter_faq_parabens

- story: user asks about animal_testing
  steps:
  - intent: faq_animal_testing
  - action: utter_faq_animal_testing

- story: user asks about store_pickup
  steps:
  - intent: faq_store_pickup
  - action: utter_faq_store_pickup

- story: user asks about eshop_complaint_procedure
  steps:
  - intent: faq_eshop_complaint_procedure
  - action: utter_faq_eshop_complaint_procedure

- story: user asks about eshop_product_ingredients
  steps:
  - intent: faq_eshop_product_ingredients
  - action: utter_faq_eshop_product_ingredients

- story: user asks about clinic_botox_duration
  steps:
  - intent: faq_clinic_botox_duration
  - action: utter_faq_clinic_botox_duration

- story: user asks about clinic_laser_epilation_sessions
  steps:
  - intent: faq_clinic_laser_epilation_sessions
  - action: utter_faq_clinic_laser_epilation_sessions

- story: user asks about clinic_laser_epilation_preparation
  steps:
  - intent: faq_clinic_laser_epilation_preparation
  - action: utter_faq_clinic_laser_epilation_preparation

- story: user asks about clinic_chemical_peel_summer
  steps:
  - intent: faq_clinic_chemical_peel_summer
  - action: utter_faq_clinic_chemical_peel_summer
